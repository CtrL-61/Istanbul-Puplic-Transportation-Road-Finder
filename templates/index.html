<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Istanbul Metro Pulse</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #0f172a; --card: #1e293b; --accent: #38bdf8; --text: #f8fafc; }
        body { background-color: var(--bg); color: var(--text); font-family: 'Plus Jakarta Sans', sans-serif; }
        .hero { padding: 80px 0; text-align: center; background: radial-gradient(circle at top right, #1e40af33, transparent 40%); }
        .glass-card { background: rgba(30, 41, 59, 0.8); backdrop-filter: blur(10px); border: 1px solid #334155; border-radius: 24px; padding: 40px; box-shadow: 0 25px 50px rgba(0,0,0,0.5); }
        .form-select { background-color: #0f172a; border: 2px solid #334155; color: white; padding: 15px; border-radius: 14px; cursor: pointer; }
        .form-select:focus { border-color: var(--accent); color: white; background-color: #0f172a; box-shadow: 0 0 0 4px rgba(56, 189, 248, 0.1); }
        .btn-pulse { background: linear-gradient(135deg, var(--accent), #0284c7); border: none; padding: 16px; font-weight: 800; border-radius: 14px; width: 100%; color: white; transition: 0.3s; }
        .btn-pulse:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(56, 189, 248, 0.3); }
        .swap-btn { background: #334155; color: var(--accent); border: none; width: 40px; height: 40px; border-radius: 50%; font-size: 1.2rem; transition: 0.3s; }
        .swap-btn:hover { background: var(--accent); color: white; transform: rotate(180deg); }
        /* Loader */
        .loader { display: none; width: 20px; height: 20px; border: 3px solid #FFF; border-bottom-color: transparent; border-radius: 50%; animation: rotation 1s linear infinite; margin: 0 auto; }
        @keyframes rotation { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div class="hero">
        <div class="container">
            <h1 class="display-4 fw-bolder mb-2">Metro <span style="color: var(--accent)">Pulse</span></h1>
            <p class="text-secondary mb-5">Professional Route Planning for Istanbul</p>
            <div class="row justify-content-center">
                <div class="col-lg-5">
                    <div class="glass-card text-start">
                        <form id="routeForm" action="/arama" method="POST">
                            <div class="mb-3">
                                <label class="small fw-bold text-secondary ms-2 mb-2">DEPARTURE</label>
                                <select name="baslangic" class="form-select" id="startStation" required>
                                    <option value="">Select Station...</option>
                                    {% for durak in duraklar %}<option value="{{ durak }}">{{ durak }}</option>{% endfor %}
                                </select>
                            </div>
                            <div class="text-center position-relative" style="height: 20px;">
                                <button type="button" class="swap-btn position-absolute top-50 start-50 translate-middle" onclick="swapStations()">â‡…</button>
                            </div>
                            <div class="mb-4">
                                <label class="small fw-bold text-secondary ms-2 mb-2">DESTINATION</label>
                                <select name="hedef" class="form-select" id="endStation" required>
                                    <option value="">Select Station...</option>
                                    {% for durak in duraklar %}<option value="{{ durak }}">{{ durak }}</option>{% endfor %}
                                </select>
                            </div>
                            <button type="submit" class="btn btn-pulse" id="submitBtn">
                                <span id="btnText">FIND ROUTE</span>
                                <div class="loader" id="btnLoader"></div>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        function swapStations() {
            const s = document.getElementById('startStation');
            const e = document.getElementById('endStation');
            [s.value, e.value] = [e.value, s.value];
        }
        document.getElementById('routeForm').onsubmit = function() {
            document.getElementById('btnText').style.display = 'none';
            document.getElementById('btnLoader').style.display = 'block';
            document.getElementById('submitBtn').disabled = true;
        };
    </script>
</body>
</html>
